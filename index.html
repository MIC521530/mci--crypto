<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>時代加密貨幣所（M.C.I）</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: url('https://images.unsplash.com/photo-1620832806092-6ab7dc391a99?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80') no-repeat center center fixed;
      background-size: cover;
      color: white;
    }
    .navbar, .banner, .order-section, .upload-section, footer {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 10px;
      margin: 20px;
    }
    input, select, textarea, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 5px;
      border: none;
      font-size: 16px;
    }
    button {
      background-color: #00d1b2;
      color: white;
      cursor: pointer;
    }
    h1, h2, h3, p, label {
      color: white;
    }
    .logo {
      max-height: 50px;
    }
    nav a {
      color: #fff;
      margin: 0 10px;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <header class="navbar">
    <img src="logo.png" alt="MCI Logo" class="logo" />
    <nav>
      <a href="#order">立即下單</a>
      <a href="#upload">上傳憑證</a>
      <a href="#contact">聯絡客服</a>
    </nav>
  </header>

  <section class="banner">
    <h1>安全快速閃兑主流加密貨幣</h1>
    <p>僅接受新台幣匯款、ATM 轉帳與加密貨幣付款</p>
  </section>

  <section id="order" class="order-section">
    <h2>買 / 賣加密貨幣</h2>
    <form id="trade-form">
      <label><input type="radio" name="action" value="buy" checked> 我要買</label>
      <label><input type="radio" name="action" value="sell"> 我要賣</label>

      <select id="crypto-select">
        <option value="bitcoin">比特幣 (BTC)</option>
        <option value="ethereum">以太幣 (ETH)</option>
        <option value="tether">泰達幣 (USDT)</option>
        <option value="binancecoin">幣安幣 (BNB)</option>
        <option value="ripple">瑞波幣 (XRP)</option>
        <option value="dogecoin">狗狗幣 (DOGE)</option>
      </select>

      <input type="number" id="twd-amount" placeholder="輸入新台幣金額" required />
      <div id="converted-price">加密幣匯率載入中...</div>

      <input type="text" id="wallet-address" placeholder="你的錢包地址" required />
    </form>

    <div id="btc-wallet-info" style="display:none; margin-top:1rem;">
      <h3>📬 錢包資訊</h3>
      <p>錢包網絡：<strong>Bitcoin</strong></p>
      <p>錢包地址：<br><code style="word-break: break-all;">
        bc1pvrx4wwuwn6wf3a9ed4fu6enwrcdexdad784elfq6h5y3eejdgdzs0emuvf
      </code></p>
      <img src="btc-qr.png" alt="BTC QR Code" style="max-width:200px; margin-top:1rem;" />
    </div>

    <div id="bank-info-form" style="display:none; margin-top:2rem;">
      <h3>🏦 收款銀行資訊</h3>
      <label>銀行戶名：<input type="text" name="account-name" /></label><br><br>
      <label>銀行代碼：
        <select name="bank-code">
          <option value="">請選擇</option>
          <option value="004">台灣銀行 (004)</option>
          <option value="005">土地銀行 (005)</option>
          <option value="006">合作金庫 (006)</option>
          <option value="007">第一銀行 (007)</option>
          <option value="008">華南銀行 (008)</option>
          <option value="009">彰化銀行 (009)</option>
          <option value="012">台北富邦 (012)</option>
          <option value="822">中國信託 (822)</option>
          <option value="826">樂天銀行 (826)</option>
        </select>
      </label><br><br>
      <label>銀行帳號：<input type="text" name="bank-account" /></label>
    </div>

    <div id="buy-bank-info" class="bank-info">
      <h3>💸 匯款資訊：</h3>
      <p>銀行名稱：樂天銀行</p>
      <p>銀行代碼：826</p>
      <p>帳號：81201000618469</p>
    </div>
  </section>

  <section id="upload" class="upload-section">
    <h2>上傳付款/轉帳證明</h2>
    <form action="https://formsubmit.co/love521530@gmail.com" method="POST" enctype="multipart/form-data">
      <input type="file" name="upload" accept="image/*" required /><br><br>
      <textarea name="message" placeholder="備註訊息 (選填)" rows="4" style="width: 100%;"></textarea><br><br>
      <input type="hidden" name="_next" value="https://thank.you.page">
      <input type="hidden" name="_captcha" value="false">
      <button type="submit">送出憑證</button>
    </form>
  </section>

  <footer id="contact">
    <p>聯絡我們：</p>
    <p>LINE：love530168</p>
    <p>Telegram：MCI52168</p>
    <p>© 2025 M.C.I 時代加密貨幣所</p>
  </footer>

  <script>
    const cryptoSelect = document.getElementById("crypto-select");
    const actionRadios = document.querySelectorAll("input[name='action']");
    const btcWallet = document.getElementById("btc-wallet-info");
    const bankForm = document.getElementById("bank-info-form");
    const amountInput = document.getElementById("twd-amount");
    const convertedDisplay = document.getElementById("converted-price");
    const buyBankInfo = document.getElementById("buy-bank-info");

    let currentRate = 0;

    async function fetchAndDisplayRate() {
      const coin = cryptoSelect.value;
      try {
        const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${coin}&vs_currencies=twd`);
        const data = await res.json();
        const rate = data[coin]?.twd;
        currentRate = rate;
        if (rate) {
          convertedDisplay.innerText = `目前國際價格：1 ${coin.toUpperCase()} ≈ ${rate.toLocaleString()} TWD`;
        } else {
          convertedDisplay.innerText = "⚠️ 無法取得匯率";
        }
      } catch (err) {
        convertedDisplay.innerText = "⚠️ 匯率載入失敗";
        console.error(err);
      }
    }

    function updateVisibility() {
      const selectedAction = [...actionRadios].find(r => r.checked).value;
      const selectedCoin = cryptoSelect.value;
      const isSellingBTC = selectedAction === "sell" && selectedCoin === "bitcoin";
      const isSelling = selectedAction === "sell";

      btcWallet.style.display = isSellingBTC ? "block" : "none";
      bankForm.style.display = isSelling ? "block" : "none";
      buyBankInfo.style.display = selectedAction === "buy" ? "block" : "none";
    }

    amountInput.addEventListener("input", function () {
      const amount = this.value;
      if (!amount || !currentRate) return;
      const coin = cryptoSelect.value;
      const converted = (amount / currentRate).toFixed(6);
      convertedDisplay.innerText = `預估可兌換：${converted} ${coin.toUpperCase()}（匯率 1 ${coin.toUpperCase()} ≈ ${currentRate.toLocaleString()} TWD）`;
    });

    cryptoSelect.addEventListener("change", () => {
      fetchAndDisplayRate();
      updateVisibility();
      amountInput.dispatchEvent(new Event("input"));
    });

    actionRadios.forEach(r => r.addEventListener("change", () => {
      updateVisibility();
      amountInput.dispatchEvent(new Event("input"));
    }));

    window.addEventListener("DOMContentLoaded", () => {
      updateVisibility();
      fetchAndDisplayRate();
    });
  </script>
</body>
</html>

